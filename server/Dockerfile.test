# Dockerfile for running tests
FROM python:3.13-slim

# Set working directory
WORKDIR /app

# Set environment variables
ENV PYTHONUNBUFFERED=1 \
    PYTHONDONTWRITEBYTECODE=1

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy source and test code
COPY src/ ./src/
COPY test/ ./test/

# Run tests by default
CMD ["pytest", "-v", "--tb=short", "--disable-warnings"]
